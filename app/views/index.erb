<div class="container">
  <h1>Tweet Now! 2: Multi-User</h1>

  <%
    # In our real-world application, this is not what we want. Instead, we should
    # be checking to see if there is currently a user logged-in, and if there is,
    # we should show her a form that will allow her to send a tweet. If there is no
    # user logged-in, we should show the sign-in button.
  %>
  <% if @user %>
    <div>
      <p>
        Welcome, <%= @user.username %>!
      </p>
      <form id="tweet" action="/" method="post">
        <input type="text" name="tweet" placeholder="Enter your tweet here!">
        <input type="submit" value="Submit!">
      </form>
      <p>
        Your most recent tweets:
      </p>
      <% @tweets.each_with_index do |tweet, index| %>
        <p>
          <%= "#{index + 1}. #{tweet}" %>
        </p>
      <% end %>
      <p>
        <button><a href="/sign_out">Sign Out</a></button>
      </p>
    </div>
  <% else %>
    <button><a href="/sign_in">Sign In with Twitter</a></button>
  <% end %>
  
</div>
